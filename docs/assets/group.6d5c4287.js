import{d as j,r as u,w as F,c as l,a as e,F as b,b as k,o as r,t as d,n as C,e as v,f as P,g as x}from"./index.cea8485a.js";const O={ref:"root",class:"container mx-auto my-4 text-center"},R=e("h1",{class:"mb-8 break-after-page text-4xl"},"World Cup 2022 Group Stage",-1),A={class:"grid grid-cols-1 gap-4"},U={class:"break-after-page pb-2"},$={class:"text-2xl"},B={class:"js_results-table mt-8 w-full border-separate"},E=e("caption",{class:"text-xl"}," Matches ",-1),V=e("thead",null,[e("tr",null,[e("th",null,"Home"),e("th"),e("th",null,"Away"),e("th")])],-1),W={class:"block h-full w-full p-2"},D=["name","onChange","checked"],J=e("td",{class:"border p-2"},"vs",-1),M={class:"block h-full w-full p-2"},T=["name","onChange","checked"],z={class:"block h-full w-full p-2"},G=["name","onChange","checked"],H={colspan:"4",class:"border p-2"},q={class:"mt-8 w-full border-separate"},I=e("caption",{class:"text-xl"}," Points ",-1),K=e("thead",null,[e("tr",null,[e("th",null,"Team"),e("th",null,"Points")])],-1),Q={class:"text-lg"},X={class:"border text-left"},Y={class:"border"},Z=e("button",{type:"button",class:"sticky right-2 bottom-2 ml-auto block rounded-md border-2 border-gray-800 bg-gray-200 px-4 py-2 text-lg hover:border-gray-600 hover:bg-gray-300 focus:border-gray-600 focus:bg-gray-300"}," Export ",-1),tt=j({__name:"App",setup(et){const N=["border-green-600","bg-green-100"],p=new URLSearchParams(window.location.search);let w={};if(p.has("results")){const a=p.get("results");a&&(w=JSON.parse(window.atob(a)))}const g=u({}),n=u(new Map),L=u({}),S=u([]),y=u({});(async()=>{const a=p.get("tournament"),c=await(await fetch(`/${a}.json`)).json();Object.assign(L,c.groups),S.push(...c.teams),Object.assign(y,c.fixtures),w&&Object.assign(g,w)})();const f=(a,i,c)=>{const t=a.target.closest("td"),s=t==null?void 0:t.closest("tr");s!=null&&s.childNodes&&s.childNodes.forEach(o=>{o.nodeName.toLowerCase()==="td"&&o.classList.remove(...N)}),t==null||t.classList.add(...N),g[i]=c},h=(a,i)=>g[a.toFixed()]===i;return F(g,(a,i)=>{n.clear();for(const t in a){const s=g[t];if(s==="draw"){const o=y[t];if(o.home){const _=n.get(o.home);_?n.set(o.home,_+1):n.set(o.home,1)}if(o.away){const _=n.get(o.away);_?n.set(o.away,_+1):n.set(o.away,1)}}else{const o=n.get(s);o?n.set(s,o+3):n.set(s,3)}}const c=window.btoa(JSON.stringify(a));console.log(c);const m=new URL(document.URL);m.searchParams.set("results",c),window.history.replaceState({},"",m.toString())}),(a,i)=>(r(),l("div",O,[R,e("div",A,[(r(!0),l(b,null,k(L,(c,m)=>(r(),l("div",U,[e("h2",$,d(m),1),e("table",B,[E,V,e("tbody",null,[(r(!0),l(b,null,k(y,t=>(r(),l(b,null,[t.group===m?(r(),l(b,{key:0},[e("tr",null,[e("td",{class:C(["border",{"border-green-600 bg-green-100":h(t.match,t.home)}])},[e("label",W,[v(d(t.home)+" ",1),e("input",{type:"radio",name:`fixture_${t.match}`,onChange:s=>f(s,t.match.toFixed(),t.home),checked:h(t.match,t.home)},null,40,D)])],2),J,e("td",{class:C(["border",{"border-green-600 bg-green-100":h(t.match,t.away)}])},[e("label",M,[v(d(t.away)+" ",1),e("input",{type:"radio",name:`fixture_${t.match}`,onChange:s=>f(s,t.match.toFixed(),t.away),checked:h(t.match,t.away)},null,40,T)])],2),e("td",{class:C(["border",{"border-green-600 bg-green-100":h(t.match,"draw")}])},[e("label",z,[v(" Draw "),e("input",{type:"radio",name:`fixture_${t.match}`,onChange:s=>f(s,t.match.toFixed(),"draw"),checked:h(t.match,"draw")},null,40,G)])],2)]),e("tr",null,[e("td",H,d(t.date)+" At "+d(t.location),1)])],64)):P("",!0)],64))),256))])]),e("table",q,[I,K,e("tbody",null,[(r(!0),l(b,null,k(c.teams,t=>{var s;return r(),l("tr",Q,[e("td",X,d(t),1),e("td",Y,d((s=n.get(t))!=null?s:0),1)])}),256))])])]))),256))]),Z],512))}});x(tt).mount("#app");
